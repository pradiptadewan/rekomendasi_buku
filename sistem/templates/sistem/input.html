{% extends 'sistem/base.html' %}
{% load static %}
{% block title %}Recommendation{% endblock %}

{% block navigation %}
    {# --- Blok Navigasi versi final Anda diletakkan di sini --- #}
    {# Pastikan ini adalah versi navigasi yang sudah benar dan konsisten #}
    <header class="header">
        <h1 class="header-title">REKOMENDASI BUKU</h1>
        <nav class="nav-links">
            <a href="{% url 'sistem:home' %}" class="nav-link">HOME</a>
            <a href="{% if user.is_authenticated %}{% url 'sistem:dashboard_user' %}{% else %}{% url 'sistem:dashboard' %}{% endif %}" class="nav-link">DASHBOARD</a>
            <a href="{% url 'sistem:input' %}" class="nav-link active">RECOMMENDATION</a>

            {% if user.is_authenticated %}
                <div class="profile-section">
                    <a href="{% url 'sistem:favorite_list' %}" class="notification-icon" aria-label="Favorites">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
                    </a>
                    <a href="{% url 'sistem:dashboard_user' %}" class="profile-avatar-link" aria-label="Lihat Dashboard">
                        <div class="profile-avatar">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                        </div>
                    </a>
                </div>
            {% else %}
                <a href="{% url 'sistem:register' %}" class="header-button">REGISTER</a>
                <a href="{% url 'sistem:login' %}" class="header-button">LOGIN</a>
            {% endif %}
        </nav>
    </header>
    <hr class="header-divider">
{% endblock navigation %}

{% block content %}
<main class="hub-layout">
    <div class="hub-header">
        <h1 class="hub-title">Recommendation System</h1>
        <p class="hub-subtitle">Choose a recommendation method to get started.</p>
    </div>

    <div class="hub-grid">
        <a href="{% url 'sistem:collaborative' %}" class="hub-card">
            <div class="hub-card-icon collaborative">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
            </div>
            <h2 class="hub-card-title">Collaborative Filtering</h2>
            <p class="hub-card-description">Dapatkan rekomendasi berdasarkan kesukaan pengguna lain yang mirip dengan Anda. Cukup masukkan judul buku yang Anda sukai!</p>
        </a>

        <a href="{% url 'sistem:content_based' %}" class="hub-card">
            <div class="hub-card-icon content-based">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 18H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V8h2v2zm10 8h-8v-2h8v2zm0-4h-8v-2h8v2zm0-4h-8V8h8v2z"/></svg>
            </div>
            <h2 class="hub-card-title">Content-Based Filtering</h2>
            <p class="hub-card-description">Temukan buku berdasarkan atributnya. Saring berdasarkan genre, rating, dan jumlah halaman untuk menyesuaikan dengan selera Anda.</p>
        </a>

        <a href="{% url 'sistem:hybrid' %}" class="hub-card">
            <div class="hub-card-icon hybrid">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
            </div>
            <h2 class="hub-card-title">Hybrid <br>System</h2>
            <p class="hub-card-description">Dapatkan yang terbaik dari dua dunia! Gabungan cerdas antara metode kolaboratif dan berbasis konten.</p>
        </a>

        <a href="{% url 'sistem:evaluation_view' %}" class="hub-card">
            <div class="hub-card-icon evaluation">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.09-4-4L2 17.08l1.5 1.41z"/></svg>
            </div>
            <h2 class="hub-card-title">System <br>Evaluation</h2>
            <p class="hub-card-description">Lihat bagaimana sistem rekomendasi kami bekerja.</p>
        </a>
    </div>
</main>

<style>
    .hub-layout {
        max-width: 1100px;
        margin: 2rem auto;
        padding: 1rem;
    }
    .hub-header {
        text-align: center;
        margin-bottom: 3rem;
    }
    .hub-title {
        font-family: var(--font-heading, 'Abhaya Libre', serif);
        font-size: 2.8rem;
        font-weight: 800;
        margin-bottom: 0.5rem;
    }
    .hub-subtitle {
        font-size: 1.2rem;
        color: var(--text-light, #7f8c8d);
    }
    .hub-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
    }
    .hub-card {
        background: var(--bg-card, #FFFFFF);
        border: 1px solid var(--border-color, #E0E0E0);
        border-radius: var(--border-radius, 12px);
        padding: 2rem;
        text-align: center;
        text-decoration: none;
        color: inherit;
        transition: var(--transition-main, all 0.3s ease);
        box-shadow: var(--shadow-soft, 0 4px 15px rgba(0,0,0,0.06));
    }
    .hub-card:hover {
        transform: translateY(-8px);
        box-shadow: var(--shadow-lifted, 0 10px 25px rgba(0,0,0,0.1));
        border-color: var(--bg-accent, #FFD700);
    }
    .hub-card-icon {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        margin: 0 auto 1.5rem auto;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .hub-card-icon svg {
        width: 32px;
        height: 32px;
        fill: white;
    }
    .hub-card-icon.collaborative { background-color: #3498db; }
    .hub-card-icon.content-based { background-color: #2ecc71; }
    .hub-card-icon.hybrid { background-color: #9b59b6; }
    .hub-card-icon.evaluation { background-color: #e67e22; }

    .hub-card-title {
        font-family: var(--font-subheading, 'Inknut Antiqua', serif);
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 0.75rem;
    }
    .hub-card-description {
        font-size: 0.95rem;
        line-height: 1.6;
        color: var(--text-light, #7f8c8d);
    }
</style>
{% endblock %}